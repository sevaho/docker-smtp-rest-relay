#! /usr/bin/python

# -----------------------------------------------------------------------------------------------------------------------------
# GENERAL
# -----------------------------------------------------------------------------------------------------------------------------
#
# author: Sebastiaan Van Hoecke
# mail: sebastiaan@sevaho.io
#
# NOTE:
#
# -----------------------------------------------------------------------------------------------------------------------------

import smtplib
import os

# -----------------------------------------------------------------------------------------------------------------------------
# GLOBAL VARIABLES
# -----------------------------------------------------------------------------------------------------------------------------

# -----------------------------------------------------------------------------------------------------------------------------
# CLASSES
# -----------------------------------------------------------------------------------------------------------------------------

# -----------------------------------------------------------------------------------------------------------------------------
# FUNCTIONS
# -----------------------------------------------------------------------------------------------------------------------------


def checkcode (code):
    return code == os.getenv("CODE")


def sendmail (mail_from, mail_to, message):
    try:
        smtp = smtplib.SMTP(os.getenv("MAIL_SERVER"), os.getenv("MAIL_SERVER_PORT"))
        smtp.login(os.getenv("USERNAME"), os.getenv("PASSWORD"))
        smtp.sendmail(mail_from, mail_to, message)
        smtp.close()

        return "ok"

    except Exception as e:
        return str(e)
